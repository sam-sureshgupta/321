public class DML_35_Example_1 {
public Account acc {set;get;}
    public DML_35_Example_1(){
        acc= new Account();
    }
    public PageReference create(){
        PageReference p;
        
        try{
            // 1. Check are there any duplicate records in the account object with same name which we entered in VF 
            Integer count=[select count() from Account where name=:acc.Name];
            if(count > 0){
                // 2. if duplicate record is found then throw error message on VF 
                Apexpages.Message msg =new Apexpages.Message(Apexpages.Severity.Error,'Duplicate record found');
                Apexpages.addMessage(msg);
            }else{
                // 3. if the duplicate record not found then insert the new record and navigate to details page 
                //    of the record 
                insert acc;
                p=new PageReference('/'+acc.Id);
            }   
        }catch(Exception e){
            // 4. if the dml operation failed then throw error message that is generated by DML
           Apexpages.Message msg =new Apexpages.Message(Apexpages.Severity.Error,e.getMessage());
           Apexpages.addMessage(msg); 
        }
        
        return p;
    }
}